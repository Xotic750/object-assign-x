{"version":3,"sources":["../src/object-assign-x.js"],"names":[],"mappings":"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","file":"object-assign-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport objectKeys from 'object-keys-x';\nimport isFunction from 'is-function-x';\nimport reduce from 'array-reduce-x';\nimport getOwnPropertyNames from 'get-own-property-names-x';\nimport isObjectLike from 'is-object-like-x';\nimport toObject from 'to-object-x';\nimport slice from 'array-slice-x';\nimport isNil from 'is-nil-x';\nimport getOEPS from 'get-own-enumerable-property-symbols-x';\n\nconst ObjectCtr = {}.constructor;\nconst nAssign = ObjectCtr.assign;\nconst nativeAssign = isFunction(nAssign) && nAssign;\n\nconst workingNativeAssign = function _nativeWorks() {\n  const obj = {};\n  const res = attempt(nativeAssign, obj, {0: 1}, {1: 2});\n\n  return res.threw === false && res.value === obj && objectKeys(obj).length === 2 && obj[0] === 1 && obj[1] === 2;\n};\n\nconst lacksProperEnumerationOrder = function _enumOrder() {\n  // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n  const test1 = Object('abc');\n  test1[5] = 'de';\n\n  if (getOwnPropertyNames(test1)[0] === '5') {\n    return true;\n  }\n\n  const strNums = '0123456789';\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n  const test2 = reduce(\n    strNums.split(''),\n    (acc, ignore, index) => {\n      acc[`_${String.fromCharCode(index)}`] = index;\n\n      return acc;\n    },\n    {},\n  );\n\n  const order = reduce(\n    getOwnPropertyNames(test2),\n    (acc, name) => {\n      return acc + test2[name];\n    },\n    '',\n  );\n\n  if (order !== strNums) {\n    return true;\n  }\n\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n  const letters = 'abcdefghijklmnopqrst';\n  const test3 = reduce(\n    letters.split(''),\n    (acc, letter) => {\n      acc[letter] = letter;\n\n      return acc;\n    },\n    {},\n  );\n\n  const result = attempt(nativeAssign, {}, test3);\n\n  return result.threw === false && objectKeys(result.value).join('') !== letters;\n};\n\nconst assignHasPendingExceptions = function _exceptions() {\n  if (isFunction(Object.preventExtensions) === false) {\n    return false;\n  }\n\n  // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n  // which is 72% slower than our shim, and Firefox 40's native implementation.\n  let result = attempt(Object.preventExtensions, {1: 2});\n\n  if (result.threw || isObjectLike(result.value) === false) {\n    return false;\n  }\n\n  const thrower = result.value;\n  result = attempt(nativeAssign, thrower, 'xy');\n\n  return result.threw ? thrower[1] === 'y' : false;\n};\n\nconst shouldImplement = (function getShouldImplement() {\n  if (nativeAssign === false) {\n    return true;\n  }\n\n  if (workingNativeAssign() === false) {\n    return true;\n  }\n\n  if (lacksProperEnumerationOrder()) {\n    return true;\n  }\n\n  return assignHasPendingExceptions();\n})();\n\n/**\n * This method is used to copy the values of all enumerable own properties from\n * one or more source objects to a target object. It will return the target object.\n *\n * @param {*} target - The target object.\n * @param {*} [...source] - The source object(s).\n * @throws {TypeError} If target is null or undefined.\n * @returns {object} The target object.\n */\nlet $assign;\n\nif (shouldImplement) {\n  const {concat} = Array.prototype;\n\n  // 19.1.3.1\n  $assign = function assign(target) {\n    return reduce(\n      /* eslint-disable-next-line prefer-rest-params */\n      slice(arguments, 1),\n      function _assignSources(tgt, source) {\n        if (isNil(source)) {\n          return tgt;\n        }\n\n        const object = Object(source);\n\n        return reduce(\n          concat.call(objectKeys(object), getOEPS(object)),\n          function _assignTo(tar, key) {\n            tar[key] = object[key];\n\n            return tar;\n          },\n          tgt,\n        );\n      },\n      toObject(target),\n    );\n  };\n} else {\n  $assign = nativeAssign;\n}\n\nconst assign = $assign;\n\nexport default assign;\n"]}