{"version":3,"sources":["../src/object-assign-x.js"],"names":[],"mappings":"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","file":"object-assign-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport objectKeys from 'object-keys-x';\nimport isFunction from 'is-function-x';\nimport reduce from 'array-reduce-x';\nimport getOwnPropertyNames from 'get-own-property-names-x';\nimport isObjectLike from 'is-object-like-x';\nimport toObject from 'to-object-x';\nimport slice from 'array-slice-x';\nimport isNil from 'is-nil-x';\nimport getOEPS from 'get-own-enumerable-property-symbols-x';\n\nconst EMPTY_STRING = '';\nconst StringCtr = EMPTY_STRING.constructor;\nconst {fromCharCode} = StringCtr;\nconst castObject = {}.constructor;\nconst nAssign = castObject.assign;\nconst nativeAssign = isFunction(nAssign) && nAssign;\n\nconst workingNativeAssign = function nativeWorks() {\n  const obj = {};\n  const res = attempt(nativeAssign, obj, {0: 1}, {1: 2});\n\n  return res.threw === false && res.value === obj && objectKeys(obj).length === 2 && obj[0] === 1 && obj[1] === 2;\n};\n\nconst lacksProperEnumerationOrder = function enumOrder() {\n  // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n  const test1 = castObject('abc');\n  test1[5] = 'de';\n\n  if (getOwnPropertyNames(test1)[0] === '5') {\n    return true;\n  }\n\n  const strNums = '0123456789';\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n  const test2 = reduce(\n    strNums.split(EMPTY_STRING),\n    (acc, ignore, index) => {\n      acc[`_${fromCharCode(index)}`] = index;\n\n      return acc;\n    },\n    {},\n  );\n\n  const order = reduce(\n    getOwnPropertyNames(test2),\n    (acc, name) => {\n      return acc + test2[name];\n    },\n    EMPTY_STRING,\n  );\n\n  if (order !== strNums) {\n    return true;\n  }\n\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n  const letters = 'abcdefghijklmnopqrst';\n  const test3 = reduce(\n    letters.split(EMPTY_STRING),\n    (acc, letter) => {\n      acc[letter] = letter;\n\n      return acc;\n    },\n    {},\n  );\n\n  const result = attempt(nativeAssign, {}, test3);\n\n  return result.threw === false && objectKeys(result.value).join(EMPTY_STRING) !== letters;\n};\n\nconst assignHasPendingExceptions = function exceptions() {\n  if (isFunction(castObject.preventExtensions) === false) {\n    return false;\n  }\n\n  // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n  // which is 72% slower than our shim, and Firefox 40's native implementation.\n  let result = attempt(castObject.preventExtensions, {1: 2});\n\n  if (result.threw || isObjectLike(result.value) === false) {\n    return false;\n  }\n\n  const thrower = result.value;\n  result = attempt(nativeAssign, thrower, 'xy');\n\n  return result.threw ? thrower[1] === 'y' : false;\n};\n\nconst shouldImplement = (function getShouldImplement() {\n  if (nativeAssign === false) {\n    return true;\n  }\n\n  if (workingNativeAssign() === false) {\n    return true;\n  }\n\n  if (lacksProperEnumerationOrder()) {\n    return true;\n  }\n\n  return assignHasPendingExceptions();\n})();\n\n/**\n * This method is used to copy the values of all enumerable own properties from\n * one or more source objects to a target object. It will return the target object.\n *\n * @param {*} target - The target object.\n * @param {*} [...source] - The source object(s).\n * @throws {TypeError} If target is null or undefined.\n * @returns {object} The target object.\n */\nlet $assign;\n\nif (shouldImplement) {\n  const {concat} = [];\n\n  // 19.1.3.1\n  $assign = function assign(target) {\n    return reduce(\n      /* eslint-disable-next-line prefer-rest-params */\n      slice(arguments, 1),\n      (tgt, source) => {\n        if (isNil(source)) {\n          return tgt;\n        }\n\n        const object = castObject(source);\n\n        return reduce(\n          concat.call(objectKeys(object), getOEPS(object)),\n          (tar, key) => {\n            tar[key] = object[key];\n\n            return tar;\n          },\n          tgt,\n        );\n      },\n      toObject(target),\n    );\n  };\n} else {\n  $assign = nativeAssign;\n}\n\nconst assign = $assign;\n\nexport default assign;\n"]}