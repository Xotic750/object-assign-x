{"version":3,"sources":["../src/object-assign-x.js"],"names":[],"mappings":"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","file":"object-assign-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport objectKeys from 'object-keys-x';\nimport isFunction from 'is-function-x';\nimport reduce from 'array-reduce-x';\nimport getOwnPropertyNames from 'get-own-property-names-x';\nimport isObjectLike from 'is-object-like-x';\nimport toObject from 'to-object-x';\nimport slice from 'array-slice-x';\nimport isNil from 'is-nil-x';\nimport getOEPS from 'get-own-enumerable-property-symbols-x';\n\nconst EMPTY_STRING = '';\nconst StringCtr = EMPTY_STRING.constructor;\nconst {fromCharCode} = StringCtr;\nconst ObjectCtr = {}.constructor;\nconst nAssign = ObjectCtr.assign;\nconst nativeAssign = isFunction(nAssign) && nAssign;\nconst {concat} = [];\n\nconst workingNativeAssign = function nativeWorks() {\n  const obj = {};\n  const res = attempt(nativeAssign, obj, {0: 1}, {1: 2});\n\n  return res.threw === false && res.value === obj && objectKeys(obj).length === 2 && obj[0] === 1 && obj[1] === 2;\n};\n\nconst lacksProperEnumerationOrder = function enumOrder() {\n  // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n  const test1 = toObject('abc');\n  test1[5] = 'de';\n\n  if (getOwnPropertyNames(test1)[0] === '5') {\n    return true;\n  }\n\n  const strNums = '0123456789';\n  const iteratee1 = function iteratee1(acc) {\n    /* eslint-disable-next-line prefer-rest-params */\n    const index = arguments[2];\n\n    acc[`_${fromCharCode(index)}`] = index;\n\n    return acc;\n  };\n\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n  const test2 = reduce(strNums.split(EMPTY_STRING), iteratee1, {});\n\n  const iteratee2 = function iteratee2(acc, name) {\n    return acc + test2[name];\n  };\n\n  const order = reduce(getOwnPropertyNames(test2), iteratee2, EMPTY_STRING);\n\n  if (order !== strNums) {\n    return true;\n  }\n\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n  const letters = 'abcdefghijklmnopqrst';\n  const iteratee3 = function iteratee3(acc, letter) {\n    acc[letter] = letter;\n\n    return acc;\n  };\n\n  const test3 = reduce(letters.split(EMPTY_STRING), iteratee3, {});\n\n  const result = attempt(nativeAssign, {}, test3);\n\n  return result.threw === false && objectKeys(result.value).join(EMPTY_STRING) !== letters;\n};\n\nconst assignHasPendingExceptions = function exceptions() {\n  if (isFunction(ObjectCtr.preventExtensions) === false) {\n    return false;\n  }\n\n  // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n  // which is 72% slower than our shim, and Firefox 40's native implementation.\n  let result = attempt(ObjectCtr.preventExtensions, {1: 2});\n\n  if (result.threw || isObjectLike(result.value) === false) {\n    return false;\n  }\n\n  const thrower = result.value;\n  result = attempt(nativeAssign, thrower, 'xy');\n\n  return result.threw ? thrower[1] === 'y' : false;\n};\n\nconst shouldImplement = (function getShouldImplement() {\n  if (nativeAssign === false) {\n    return true;\n  }\n\n  if (workingNativeAssign() === false) {\n    return true;\n  }\n\n  if (lacksProperEnumerationOrder()) {\n    return true;\n  }\n\n  return assignHasPendingExceptions();\n})();\n\n// 19.1.3.1\nexport const implementation = function assign(target) {\n  const outerIteratee = function outerIteratee(tgt, source) {\n    if (isNil(source)) {\n      return tgt;\n    }\n\n    const object = toObject(source);\n\n    const innerIteratee = function innerIteratee(tar, key) {\n      tar[key] = object[key];\n\n      return tar;\n    };\n\n    return reduce(concat.call(objectKeys(object), getOEPS(object)), innerIteratee, tgt);\n  };\n\n  /* eslint-disable-next-line prefer-rest-params */\n  return reduce(slice(arguments, 1), outerIteratee, toObject(target));\n};\n\n/**\n * This method is used to copy the values of all enumerable own properties from\n * one or more source objects to a target object. It will return the target object.\n *\n * @param {*} target - The target object.\n * @param {*} [...source] - The source object(s).\n * @throws {TypeError} If target is null or undefined.\n * @returns {object} The target object.\n */\nconst $assign = shouldImplement ? implementation : nativeAssign;\n\nexport default $assign;\n"]}